import{o as c,c as v,a as i,w as l,F as P,b as a,d as n,e as d,af as u,r as V,v as k,ag as q,g as M,t as m,f as x,M as F,N as T}from"./index-9ba3883d.js";import{V as N,D as $,a as L,c as h,h as p,g as y,f as g,q as _}from"./VLayout-adda45de.js";import{w as I,x as O,y as R,z as Z,A as z,B as G,C as Y,D as Q,E as H,v as J,F as K}from"./connectionManager-2eeae4e5.js";import{C as U}from"./auto-a7dedb8f.js";import{_ as X,e as C}from"./index-729d7a69.js";import{V as A,a as S}from"./VRow-f18ab1bf.js";import{V as w}from"./VDialog-e9c9ca24.js";import{V as B}from"./VTextarea-1c956fcf.js";import{V as j,b as D,a as W,c as E}from"./VList-88c86c8f.js";import"./VOverlay-0623f727.js";import"./VField-0d46687c.js";import"./scopeId-6d8fa96d.js";const s=r=>(F("data-v-384bdfea"),r=r(),T(),r),ee=s(()=>a("canvas",{id:"empresasPorPlan"},null,-1)),ae={ref:"barChartByCity"},te={ref:"barChartByProvince"},oe={style:{display:"flex","flex-direction":"column"}},ie={style:{display:"flex","justify-content":"space-between","align-items":"center","margin-left":"15px"}},le={class:"search-wrapper"},re={style:{margin:"20px","margin-right":"200px"}},se=s(()=>a("h3",{style:{"margin-left":"15px"}},"Editar empresa",-1)),ne={style:{display:"flex","flex-direction":"row","justify-content":"space-between"}},de={style:{width:"48%"}},ue=s(()=>a("label",null,"Nom: ",-1)),pe={style:{width:"48%"}},me=s(()=>a("label",null,"Telèfon: ",-1)),he={style:{display:"flex","flex-direction":"row","justify-content":"space-between","margin-top":"15px"}},ce={style:{width:"48%"}},be=s(()=>a("label",null,"Província: ",-1)),Ee={style:{width:"48%"}},fe=s(()=>a("label",null,"Ciutat: ",-1)),ve={style:{"margin-top":"15px"}},ye=s(()=>a("label",null,"Direcció: ",-1)),ge={style:{display:"flex","flex-direction":"row","justify-content":"space-between","margin-top":"15px"}},_e={style:{width:"48%"}},Ce=s(()=>a("label",null,"Correu electrònic: ",-1)),we={style:{width:"48%"}},Pe=s(()=>a("label",null,"Pla de subscripció: ",-1)),Ve=["value"],ke={style:{width:"48%"}},Me=s(()=>a("label",null,"Auto-renovable: ",-1)),Se={style:{"margin-top":"15px"}},Be=s(()=>a("label",null,"Lloc Web: ",-1)),De=s(()=>a("h3",{style:{"margin-left":"15px"}},"Crear empresa",-1)),Ue={style:{display:"flex","flex-direction":"row","justify-content":"space-between"}},Ae={style:{width:"48%"}},qe=s(()=>a("label",null,"Nom: ",-1)),xe={style:{width:"48%"}},je=s(()=>a("label",null,"Telèfon: ",-1)),We={style:{display:"flex","flex-direction":"row","justify-content":"space-between","margin-top":"15px"}},Fe={style:{width:"48%"}},Te=s(()=>a("label",null,"Província: ",-1)),Ne={style:{width:"48%"}},$e=s(()=>a("label",null,"Ciutat: ",-1)),Le={style:{"margin-top":"15px"}},Ie=s(()=>a("label",null,"Direcció: ",-1)),Oe={style:{display:"flex","flex-direction":"row","justify-content":"space-between","margin-top":"15px"}},Re={style:{width:"48%"}},Ze=s(()=>a("label",null,"Correu Electrònic: ",-1)),ze={style:{width:"48%"}},Ge=s(()=>a("label",null,"Pla de subscripció: ",-1)),Ye=["value"],Qe={style:{width:"48%"}},He=s(()=>a("label",null,"Auto-renovable: ",-1)),Je={style:{"margin-top":"15px"}},Ke=s(()=>a("label",null,"Lloc Web: ",-1)),Xe=s(()=>a("h3",{style:{"margin-left":"15px"}},"Detalls de l'empresa",-1)),ea=s(()=>a("b",null,"Província: ",-1)),aa=s(()=>a("b",null,"Ciutat: ",-1)),ta=s(()=>a("b",null,"Carrer: ",-1)),oa=s(()=>a("b",null,"Tlf: ",-1)),ia=s(()=>a("b",null,"Correu electrònic: ",-1)),la=s(()=>a("b",null,"Web: ",-1)),ra=s(()=>a("b",null,"Subscripció: ",-1)),sa={style:{display:"flex","justify-content":"space-between","align-items":"center","margin-left":"15px"}},na={class:"search-wrapper"},da={style:{margin:"20px","margin-right":"200px"}},ua=s(()=>a("h3",{style:{"margin-left":"15px"}},"Editar pla",-1)),pa={style:{display:"flex","flex-direction":"row","justify-content":"space-between"}},ma={style:{width:"48%"}},ha=s(()=>a("label",null,"Nom: ",-1)),ca={style:{width:"48%"}},ba=s(()=>a("label",null,"Preu: ",-1)),Ea={style:{display:"flex","flex-direction":"row","justify-content":"space-between","margin-top":"15px"}},fa={style:{width:"48%"}},va=s(()=>a("label",null,"Descripció: ",-1)),ya={style:{width:"48%"}},ga=s(()=>a("label",null,"Pla de subscripció: ",-1)),_a=s(()=>a("option",{value:"30"},"Mensual",-1)),Ca=s(()=>a("option",{value:"365"},"Anual",-1)),wa=[_a,Ca],Pa=s(()=>a("h3",{style:{"margin-left":"15px"}},"Crear pla",-1)),Va={style:{display:"flex","flex-direction":"row","justify-content":"space-between"}},ka={style:{width:"48%"}},Ma=s(()=>a("label",null,"Nom: ",-1)),Sa={style:{width:"48%"}},Ba=s(()=>a("label",null,"Preu: ",-1)),Da={style:{"margin-top":"15px"}},Ua=s(()=>a("label",null,"Descripció: ",-1)),Aa={style:{"margin-top":"15px"}},qa=s(()=>a("label",null,"Durada del pla: ",-1)),xa=s(()=>a("option",{value:"30"},"Mensual",-1)),ja=s(()=>a("option",{value:"365"},"Anual",-1)),Wa=[xa,ja],Fa=s(()=>a("h3",{style:{"margin-left":"15px"}},"Detalls del pla",-1)),Ta=s(()=>a("b",null,"Preu: ",-1)),Na=s(()=>a("b",null,"Descripción: ",-1)),$a=s(()=>a("b",null,"Durada (dies): ",-1)),La={data(){return{clienteSeleccionado:null,modoEdicion:!1,filtroEmpresa:"",filtroPlan:"",mostrarModalEditarEmpresa:!1,mostrarModalEditarPlan:!1,empresaEditada:{nombre:"",nombre_calle:"",telefono:"",correo:"",plan:"",sitioWeb:"",provincia:"",ciudad:"",id:"",autorenovable:0},planEditado:{nombre:"",precio:"",descripcion:"",duracion_dias:"",id:""},nuevoPlan:{nombre:"",precio:"",descripcion:"",duracion_dias:""},nuevaEmpresa:{nombre:"",nombre_calle:"",telefono:"",correo:"",plan:2,sitioWeb:"",provincia:"",ciudad:"",autorenovable:0},prefijoTelefonoEditar:"+1",clienteEditado:null,modoEdicionCliente:!1,mostrarModalDatosEmpresas:!1,mostrarModalDatosPlan:!1,empresaSeleccionada:null,planSeleccionada:null,empresas:[],planes:[],empresasEnviar:[],planesEnviar:[],planEditadoEnviar:[],empresaEditadaEnviar:[],mostrarModalCrear:!1,mostrarModalCrearPlan:!1,empresasPorPlanChart:null,barChartByCity:null,barChartByProvince:null}},computed:{clientesFiltrados(){return this.empresas.filter(r=>r.nom_empresa&&r.nom_empresa.toLowerCase().includes(this.filtroEmpresa.toLowerCase()))},planesFiltrados(){return this.planes.filter(r=>r.nombre&&r.nombre.toLowerCase().includes(this.filtroPlan.toLowerCase()))}},methods:{filtrarNumeros(r){const o=r.target.value.replace(/\D/g,"");this.nuevaEmpresa.telefono=o},editarEmpresa(r){this.empresaSeleccionada=r,this.empresaEditada.nombre=r.nom_empresa,this.empresaEditada.nombre_calle=r.nombre_calle,this.empresaEditada.telefono=r.numero_telefono,this.empresaEditada.correo=r.correo,this.empresaEditada.sitioWeb=r.sitio_web,this.empresaEditada.plan=r.plan,this.empresaEditada.provincia=r.provincia,this.empresaEditada.ciudad=r.ciudad,this.empresaEditada.id=r.id_empresa,this.empresaEditada.autorenovable=r.autorenovable,this.empresaEditada.plan=r.plan,this.mostrarModalEditarEmpresa=!0},editarPlan(r){this.planSeleccionada=r,this.planEditado.nombre=r.nombre,this.planEditado.precio=r.precio,this.planEditado.descripcion=r.descripcion,this.planEditado.duracion_dias=r.duracion_dias,this.planEditado.id=r.id,this.mostrarModalEditarPlan=!0},async eliminarCliente(r){if(confirm("Segur que vols eliminar l'empresa "+r.nom_empresa+"?")){const o=r.id_empresa;await I(o),await O(o),this.getEmpresas(),this.destroyAndRecreateCharts(),window.location.reload()}else return},async eliminarPlan(r){if(confirm("Segur que vols eliminar el pla "+r.nombre+"?")){const o=r.id;await R(o),this.getPlanes(),this.destroyAndRecreateCharts(),window.location.reload()}else return},async guardarEdicionEmpresa(){this.empresaEditadaEnviar.push(this.empresaEditada.nombre,this.empresaEditada.nombre_calle,this.empresaEditada.telefono,this.empresaEditada.correo,this.empresaEditada.sitioWeb,this.empresaEditada.plan,this.empresaEditada.provincia,this.empresaEditada.ciudad,this.empresaEditada.id),await Z(this.empresaEditadaEnviar),console.log(this.empresaEditada.id),console.log(this.empresaEditada.plan),console.log(this.empresaEditada.autorenovable),await z(this.empresaEditada.id,this.empresaEditada.plan,this.empresaEditada.autorenovable),this.getEmpresas(),this.mostrarModalEditarEmpresa=!1,this.destroyAndRecreateCharts(),window.location.reload()},async guardarEdicionPlan(){if(!this.planEditado.nombre||!this.planEditado.precio||!this.planEditado.descripcion||!this.planEditado.duracion_dias){alert("Si us plau, completeu tots els camps abans de desar.");return}this.planEditadoEnviar.push(this.planEditado.nombre,this.planEditado.precio,this.planEditado.duracion_dias,this.planEditado.descripcion,this.planEditado.id),await G(this.planEditadoEnviar),this.getPlanes(),this.mostrarModalEditarPlan=!1,this.destroyAndRecreateCharts(),window.location.reload()},cancelarEdicionEmpresa(){this.empresaEditada.nombre="",this.empresaEditada.nombre_calle="",this.empresaEditada.telefono="",this.empresaEditada.correo="",this.empresaEditada.plan="Standard",this.empresaEditada.sitioWeb="",this.empresaEditada.provincia="",this.empresaEditada.ciudad="",this.mostrarModalEditarEmpresa=!1},mostrarFormularioEmpresa(){this.mostrarModalEditarEmpresa=!0},cancelarEdicionPlan(){this.planEditado.nombre="",this.planEditado.precio="",this.planEditado.descripcion="",this.planEditado.duracion_dias="",this.planEditado.id="",this.mostrarModalEditarPlan=!1},mostrarFormularioEmpresa(){this.mostrarModalEditarEmpresa=!0},mostrarFormularioPlan(){this.mostrarModalEditarPlan=!0},async crearYGuardarEmpresa(){if(!this.nuevaEmpresa.nombre||!this.nuevaEmpresa.nombre_calle||!this.nuevaEmpresa.telefono||!this.nuevaEmpresa.correo||!this.nuevaEmpresa.sitioWeb||!this.nuevaEmpresa.provincia||!this.nuevaEmpresa.ciudad){alert("Si us plau, completeu tots els camps abans de desar.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.nuevaEmpresa.correo)){alert("Si us plau, introduïu un correu electrònic vàlid.");return}if(!/^[a-zA-Z0-9\s]*$/.test(this.nuevaEmpresa.nombre)){alert("El nom només pot contenir lletres i números.");return}if(!/^[a-zA-Z\s]*$/.test(this.nuevaEmpresa.provincia)){alert("La província només pot contenir lletres.");return}if(!/^[a-zA-Z\s]*$/.test(this.nuevaEmpresa.ciudad)){alert("La ciutat només pot contenir lletres.");return}this.empresas.push({nom_empresa:this.nuevaEmpresa.nombre,nombre_calle:this.nuevaEmpresa.nombre_calle,numero_telefono:this.nuevaEmpresa.telefono,correo:this.nuevaEmpresa.correo,plan:this.nuevaEmpresa.plan,sitio_web:this.nuevaEmpresa.sitioWeb,provincia:this.nuevaEmpresa.provincia,ciudad:this.nuevaEmpresa.ciudad}),this.empresasEnviar.push(this.nuevaEmpresa.nombre,this.nuevaEmpresa.nombre_calle,this.nuevaEmpresa.telefono,this.nuevaEmpresa.correo,this.nuevaEmpresa.sitioWeb,this.nuevaEmpresa.plan,this.nuevaEmpresa.provincia,this.nuevaEmpresa.ciudad);const b=await Y(this.empresasEnviar);console.log(b.result),console.log(this.nuevaEmpresa.plan),console.log(this.nuevaEmpresa.autorenovable),this.mostrarModalCrear=!1,await Q(b.result,this.nuevaEmpresa.plan,this.nuevaEmpresa.autorenovable),this.empresasEnviar=[],this.getEmpresas(),this.destroyAndRecreateCharts(),window.location.reload()},async crearYGuardarPlan(){if(!this.nuevoPlan.nombre||!this.nuevoPlan.precio||!this.nuevoPlan.descripcion||!this.nuevoPlan.duracion_dias){alert("Si us plau, completeu tots els camps abans de desar.");return}this.planesEnviar.push(this.nuevoPlan.nombre,this.nuevoPlan.precio,this.nuevoPlan.duracion_dias,this.nuevoPlan.descripcion),await H(this.planesEnviar),this.nuevoPlan={nombre:"",precio:"",descripcion:"",duracion_dias:""},this.planesEnviar=[],this.getPlanes(),this.mostrarModalCrearPlan=!1,this.destroyAndRecreateCharts(),window.location.reload()},limpiarFormularioEmpresa(){this.nuevaEmpresa={nombre:"",nombre_calle:"",telefono:"",correo:"",plan:"Standard",sitioWeb:"",provincia:"",ciudad:""},this.mostrarModalCrear=!1,this.getEmpresas().then(()=>{this.graficoPlanes(),this.renderBarChartByCity(),this.renderBarChartByProvince()})},limpiarFormularioPlan(){this.nuevoPlan={nombre:"",precio:"",descripcion:"",duracion_dias:""},this.mostrarModalCrearPlan=!1,this.getPlanes()},async getEmpresas(){this.empresas=await J()},mostrarDatosEmpresa(r){this.empresaSeleccionada=r,this.mostrarModalDatosEmpresas=!0},mostrarDatosPlan(r){this.planSeleccionada=r,this.mostrarModalDatosPlan=!0},abrirModalCrearEmpresa(){this.mostrarModalCrear=!0},abrirModalCrearPlan(){this.mostrarModalCrearPlan=!0},graficoPlanes(){const r=document.getElementById("empresasPorPlan").getContext("2d");this.empresasPorPlanChart&&(this.empresasPorPlanChart.destroy(),this.empresasPorPlanChart=null,r.canvas.parentNode.removeChild(r.canvas));const e=this.empresas.reduce((b,f)=>(b[f.nombre_sub]=(b[f.nombre_sub]||0)+1,b),{}),t={type:"bar",data:{labels:Object.keys(e),datasets:[{label:"Quantitat d'empreses per pla de servei",data:Object.values(e),backgroundColor:["#84ACCE"],borderColor:["#224870"],borderWidth:2}]},options:{scales:{y:{beginAtZero:!0}}}};this.empresasPorPlanChart=new U(r,t)},renderBarChartByCity(){const r={};this.empresas.forEach(o=>{const t=o.ciudad;t in r?r[t]++:r[t]=1});const e=this.$refs.barChartByCity.getContext("2d");new U(e,{type:"bar",data:{labels:Object.keys(r),datasets:[{label:"Quantitat d'empreses per ciutat",data:Object.values(r),backgroundColor:"#84ACCE",borderColor:"#224870",borderWidth:2}]},options:{scales:{y:{beginAtZero:!0}}}})},renderBarChartByProvince(){const r={};this.empresas.forEach(o=>{const t=o.provincia;t in r?r[t]++:r[t]=1});const e=this.$refs.barChartByProvince.getContext("2d");new U(e,{type:"bar",data:{labels:Object.keys(r),datasets:[{label:"Quantitat d'empreses per província",data:Object.values(r),backgroundColor:"#84ACCE",borderColor:"#224870",borderWidth:2}]},options:{scales:{y:{beginAtZero:!0}}}})},async destroyAndRecreateCharts(){this.empresasPorPlanChart&&this.empresasPorPlanChart.destroy(),this.barChartByCity&&this.barChartByCity.destroy(),this.barChartByProvince&&this.barChartByProvince.destroy(),await this.$nextTick(),this.getEmpresas().then(()=>{this.limpiarTodo(),this.empresasPorPlanChart=this.graficoPlanes(),this.barChartByCity=this.renderBarChartByCity(),this.barChartByProvince=this.renderBarChartByProvince()})},limpiarTodo(){this.empresasPorPlanChart=null,this.barChartByCity=null,this.barChartByProvince=null},async getPlanes(){this.planes=await K()}},created(){console.log("CREADO"),this.getEmpresas().then(()=>{this.graficoPlanes(),this.renderBarChartByCity(),this.renderBarChartByProvince()}),this.getPlanes()},mounted(){console.log("MONTADO")},updated(){console.log("UPDATED")}},Ia=Object.assign(La,{__name:"gestioEmpresas",setup(r){return(e,o)=>(c(),v(P,null,[i($),i(N,{style:{"background-color":"#EFEFEF"}},{default:l(()=>[i(L,{fluid:"","fill-height":""},{default:l(()=>[i(A,null,{default:l(()=>[i(S,{cols:"12",md:"6"},{default:l(()=>[i(h,{width:"900",height:"450"},{default:l(()=>[ee]),_:1}),i(h,{style:{"margin-top":"30px"},width:"900",height:"450"},{default:l(()=>[a("canvas",ae,null,512)]),_:1}),i(h,{style:{"margin-top":"30px"},width:"900",height:"450"},{default:l(()=>[a("canvas",te,null,512)]),_:1})]),_:1}),i(S,{cols:"12",md:"6"},{default:l(()=>[a("div",oe,[i(h,{"max-width":"1000",height:"auto",width:"auto",style:{"background-color":"#224870"}},{default:l(()=>[a("div",ie,[i(p,{color:"#84ACCE",onClick:e.abrirModalCrearEmpresa},{default:l(()=>[n("Crear empresa")]),_:1},8,["onClick"]),a("div",le,[d(a("input",{style:{color:"white"},class:"search-input",type:"text","onUpdate:modelValue":o[0]||(o[0]=t=>e.filtroEmpresa=t),placeholder:"Buscar client"},null,512),[[u,e.filtroEmpresa]])])]),(c(!0),v(P,null,V(e.clientesFiltrados,(t,b)=>(c(),M(h,{key:b,style:{margin:"15px",width:"auto",height:"auto","background-color":"#84ACCE",color:"white"}},{default:l(()=>[i(A,{align:"center"},{default:l(()=>[i(S,null,{default:l(()=>[a("p",re,m(t.nom_empresa),1)]),_:2},1024)]),_:2},1024),i(p,{icon:"",onClick:f=>e.eliminarCliente(t),style:{position:"absolute",right:"10px",bottom:"10px"}},{default:l(()=>[i(C,null,{default:l(()=>[n("mdi-delete")]),_:1})]),_:2},1032,["onClick"]),i(p,{icon:"",onClick:f=>e.editarEmpresa(t),style:{position:"absolute",right:"70px",bottom:"10px"}},{default:l(()=>[i(C,null,{default:l(()=>[n("mdi-pencil")]),_:1})]),_:2},1032,["onClick"]),i(p,{icon:"",onClick:f=>e.mostrarDatosEmpresa(t),style:{position:"absolute",right:"130px",bottom:"10px"}},{default:l(()=>[i(C,null,{default:l(()=>[n("mdi-eye")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024))),128)),i(w,{modelValue:e.mostrarModalEditarEmpresa,"onUpdate:modelValue":o[11]||(o[11]=t=>e.mostrarModalEditarEmpresa=t),"max-width":"820","max-height":"700"},{default:l(()=>[i(h,{width:"auto",height:"auto"},{default:l(()=>[i(y,{height:"60",style:{"background-color":"#224870",color:"white"}},{default:l(()=>[se]),_:1}),i(g,null,{default:l(()=>[a("form",null,[a("div",ne,[a("div",de,[ue,d(a("input",{"onUpdate:modelValue":o[1]||(o[1]=t=>e.empresaEditada.nombre=t),required:"",class:"bordered-input",style:{height:"auto",width:"300px"},maxlength:"30"},null,512),[[u,e.empresaEditada.nombre]])]),a("div",pe,[me,d(a("input",{"onUpdate:modelValue":o[2]||(o[2]=t=>e.empresaEditada.telefono=t),required:"",class:"bordered-input",type:"tel",onInput:o[3]||(o[3]=(...t)=>e.filtrarNumeros&&e.filtrarNumeros(...t)),maxlength:"15"},null,544),[[u,e.empresaEditada.telefono]])])]),a("div",he,[a("div",ce,[be,d(a("input",{"onUpdate:modelValue":o[4]||(o[4]=t=>e.empresaEditada.provincia=t),required:"",class:"bordered-input",style:{height:"auto",width:"290px"},maxlength:"45"},null,512),[[u,e.empresaEditada.provincia]])]),a("div",Ee,[fe,d(a("input",{"onUpdate:modelValue":o[5]||(o[5]=t=>e.empresaEditada.ciudad=t),required:"",class:"bordered-input",style:{height:"auto",width:"270px"},maxlength:"45"},null,512),[[u,e.empresaEditada.ciudad]])])]),a("div",ve,[ye,i(B,{modelValue:e.empresaEditada.nombre_calle,"onUpdate:modelValue":o[6]||(o[6]=t=>e.empresaEditada.nombre_calle=t),required:"",class:"bordered-input",style:{height:"auto",width:"653px"},maxlength:"245"},null,8,["modelValue"])]),a("div",ge,[a("div",_e,[Ce,d(a("input",{"onUpdate:modelValue":o[7]||(o[7]=t=>e.empresaEditada.correo=t),required:"",class:"bordered-input",style:{height:"auto",width:"220px"},type:"email"},null,512),[[u,e.empresaEditada.correo]])]),a("div",we,[Pe,d(a("select",{"onUpdate:modelValue":o[8]||(o[8]=t=>e.empresaEditada.plan=t),required:"",class:"bordered-input",style:{height:"auto",width:"173px"}},[(c(!0),v(P,null,V(e.planes,t=>(c(),v("option",{value:t.id},m(t.nombre),9,Ve))),256))],512),[[k,e.empresaEditada.plan]])]),a("div",ke,[Me,d(a("input",{type:"checkbox","onUpdate:modelValue":o[9]||(o[9]=t=>e.empresaEditada.autorenovable=t)},null,512),[[q,e.empresaEditada.autorenovable]])])]),a("div",Se,[Be,d(a("input",{"onUpdate:modelValue":o[10]||(o[10]=t=>e.empresaEditada.sitioWeb=t),required:"",class:"bordered-input",style:{height:"auto",width:"653px"},maxlength:"250",type:"url"},null,512),[[u,e.empresaEditada.sitioWeb]])])])]),_:1}),i(_,null,{default:l(()=>[i(p,{color:"primary",onClick:e.guardarEdicionEmpresa},{default:l(()=>[n("Desar")]),_:1},8,["onClick"]),i(p,{color:"error",onClick:e.cancelarEdicionEmpresa},{default:l(()=>[n("Cancelar")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),i(w,{modelValue:e.mostrarModalCrear,"onUpdate:modelValue":o[22]||(o[22]=t=>e.mostrarModalCrear=t),"max-width":"820","max-height":"700"},{default:l(()=>[i(h,{width:"auto",height:"auto"},{default:l(()=>[i(y,{height:"60",style:{"background-color":"#224870",color:"white"}},{default:l(()=>[De]),_:1}),i(g,null,{default:l(()=>[a("form",null,[a("div",Ue,[a("div",Ae,[qe,d(a("input",{"onUpdate:modelValue":o[12]||(o[12]=t=>e.nuevaEmpresa.nombre=t),required:"",class:"bordered-input",style:{height:"auto",width:"300px"},maxlength:"30"},null,512),[[u,e.nuevaEmpresa.nombre]])]),a("div",xe,[je,d(a("input",{"onUpdate:modelValue":o[13]||(o[13]=t=>e.nuevaEmpresa.telefono=t),required:"",class:"bordered-input",onInput:o[14]||(o[14]=(...t)=>e.filtrarNumeros&&e.filtrarNumeros(...t)),type:"tel",pattern:"[0-9]*",maxlength:"15"},null,544),[[u,e.nuevaEmpresa.telefono]])])]),a("div",We,[a("div",Fe,[Te,d(a("input",{"onUpdate:modelValue":o[15]||(o[15]=t=>e.nuevaEmpresa.provincia=t),required:"",class:"bordered-input",style:{height:"auto",width:"290px"},maxlength:"45"},null,512),[[u,e.nuevaEmpresa.provincia]])]),a("div",Ne,[$e,d(a("input",{"onUpdate:modelValue":o[16]||(o[16]=t=>e.nuevaEmpresa.ciudad=t),required:"",class:"bordered-input",style:{height:"auto",width:"270px"},maxlength:"45"},null,512),[[u,e.nuevaEmpresa.ciudad]])])]),a("div",Le,[Ie,i(B,{modelValue:e.nuevaEmpresa.nombre_calle,"onUpdate:modelValue":o[17]||(o[17]=t=>e.nuevaEmpresa.nombre_calle=t),required:"",class:"bordered-input",style:{height:"auto",width:"653px"},maxlength:"245"},null,8,["modelValue"])]),a("div",Oe,[a("div",Re,[Ze,d(a("input",{"onUpdate:modelValue":o[18]||(o[18]=t=>e.nuevaEmpresa.correo=t),required:"",class:"bordered-input",style:{height:"auto",width:"220px"},type:"email"},null,512),[[u,e.nuevaEmpresa.correo]])]),a("div",ze,[Ge,d(a("select",{"onUpdate:modelValue":o[19]||(o[19]=t=>e.nuevaEmpresa.plan=t),required:"",class:"bordered-input",style:{height:"auto",width:"173px"}},[(c(!0),v(P,null,V(e.planes,t=>(c(),v("option",{value:t.id},m(t.nombre),9,Ye))),256))],512),[[k,e.nuevaEmpresa.plan]])]),a("div",Qe,[He,d(a("input",{type:"checkbox","onUpdate:modelValue":o[20]||(o[20]=t=>e.nuevaEmpresa.autorenovable=t)},null,512),[[q,e.nuevaEmpresa.autorenovable]])])]),a("div",Je,[Ke,d(a("input",{"onUpdate:modelValue":o[21]||(o[21]=t=>e.nuevaEmpresa.sitioWeb=t),required:"",class:"bordered-input",style:{height:"auto",width:"653px"},maxlength:"250",type:"url"},null,512),[[u,e.nuevaEmpresa.sitioWeb]])])])]),_:1}),i(_,null,{default:l(()=>[i(p,{color:"primary",onClick:e.crearYGuardarEmpresa},{default:l(()=>[n("Desar")]),_:1},8,["onClick"]),i(p,{color:"error",onClick:e.limpiarFormularioEmpresa},{default:l(()=>[n("Cancelar")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),i(w,{modelValue:e.mostrarModalDatosEmpresas,"onUpdate:modelValue":o[24]||(o[24]=t=>e.mostrarModalDatosEmpresas=t),"max-width":"820","max-height":"700"},{default:l(()=>[i(h,{width:"auto",height:"auto"},{default:l(()=>[i(y,{height:"60",style:{"background-color":"#224870",color:"white"}},{default:l(()=>[Xe]),_:1}),i(g,null,{default:l(()=>[i(j,null,{default:l(()=>[e.empresaSeleccionada?(c(),M(D,{key:0},{default:l(()=>[i(D,null,{default:l(()=>[i(W,null,{default:l(()=>[n(m(e.empresaSeleccionada.nom_empresa),1)]),_:1}),i(E,null,{default:l(()=>[ea,n(" "+m(e.empresaSeleccionada.provincia),1)]),_:1}),i(E,null,{default:l(()=>[aa,n(" "+m(e.empresaSeleccionada.ciudad),1)]),_:1}),i(E,null,{default:l(()=>[ta,n(" "+m(e.empresaSeleccionada.nombre_calle),1)]),_:1}),i(E,null,{default:l(()=>[oa,n(m(e.empresaSeleccionada.numero_telefono),1)]),_:1}),i(E,null,{default:l(()=>[ia,n(m(e.empresaSeleccionada.correo),1)]),_:1}),i(E,null,{default:l(()=>[la,n(m(e.empresaSeleccionada.sitio_web),1)]),_:1}),i(E,null,{default:l(()=>[ra,n(m(e.empresaSeleccionada.plan),1)]),_:1})]),_:1})]),_:1})):x("",!0)]),_:1})]),_:1}),i(_,null,{default:l(()=>[i(p,{color:"primary",onClick:o[23]||(o[23]=t=>e.mostrarModalDatosEmpresas=!1)},{default:l(()=>[n("Tancar")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),i(h,{"max-width":"1000",height:"auto",width:"auto",style:{"background-color":"#224870",order:"1","margin-top":"25px"}},{default:l(()=>[a("div",sa,[i(p,{color:"#84ACCE",onClick:e.abrirModalCrearPlan},{default:l(()=>[n("Crear pla")]),_:1},8,["onClick"]),a("div",na,[d(a("input",{style:{color:"white"},class:"search-input",type:"text","onUpdate:modelValue":o[25]||(o[25]=t=>e.filtroPlan=t),placeholder:"Buscar Pla"},null,512),[[u,e.filtroPlan]])])]),(c(!0),v(P,null,V(e.planesFiltrados,(t,b)=>(c(),M(h,{key:b,style:{margin:"15px",width:"auto",height:"auto","background-color":"#84ACCE",color:"white"}},{default:l(()=>[i(A,{align:"center"},{default:l(()=>[i(S,null,{default:l(()=>[a("p",da,m(t.nombre),1)]),_:2},1024)]),_:2},1024),i(p,{icon:"",onClick:f=>e.eliminarPlan(t),style:{position:"absolute",right:"10px",bottom:"10px"}},{default:l(()=>[i(C,null,{default:l(()=>[n("mdi-delete")]),_:1})]),_:2},1032,["onClick"]),i(p,{icon:"",onClick:f=>e.editarPlan(t),style:{position:"absolute",right:"70px",bottom:"10px"}},{default:l(()=>[i(C,null,{default:l(()=>[n("mdi-pencil")]),_:1})]),_:2},1032,["onClick"]),i(p,{icon:"",onClick:f=>e.mostrarDatosPlan(t),style:{position:"absolute",right:"130px",bottom:"10px"}},{default:l(()=>[i(C,null,{default:l(()=>[n("mdi-eye")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024))),128)),i(w,{modelValue:e.mostrarModalEditarPlan,"onUpdate:modelValue":o[30]||(o[30]=t=>e.mostrarModalEditarPlan=t),"max-width":"820","max-height":"700"},{default:l(()=>[i(h,{width:"auto",height:"auto"},{default:l(()=>[i(y,{height:"60",style:{"background-color":"#224870",color:"white"}},{default:l(()=>[ua]),_:1}),i(g,null,{default:l(()=>[a("form",null,[a("div",pa,[a("div",ma,[ha,d(a("input",{"onUpdate:modelValue":o[26]||(o[26]=t=>e.planEditado.nombre=t),required:"",class:"bordered-input",style:{height:"auto",width:"300px"},maxlength:"30"},null,512),[[u,e.planEditado.nombre]])]),a("div",ca,[ba,d(a("input",{"onUpdate:modelValue":o[27]||(o[27]=t=>e.planEditado.precio=t),required:"",class:"bordered-input",style:{height:"auto",width:"270px"},type:"number"},null,512),[[u,e.planEditado.precio]])])]),a("div",Ea,[a("div",fa,[va,i(B,{modelValue:e.planEditado.descripcion,"onUpdate:modelValue":o[28]||(o[28]=t=>e.planEditado.descripcion=t),required:"",class:"bordered-input",style:{height:"auto",width:"290px"},maxlength:"45"},null,8,["modelValue"])]),a("div",ya,[ga,d(a("select",{"onUpdate:modelValue":o[29]||(o[29]=t=>e.planEditado.duracion_dias=t),class:"bordered-input",style:{height:"auto",width:"173px"}},wa,512),[[k,e.planEditado.duracion_dias]])])])])]),_:1}),i(_,null,{default:l(()=>[i(p,{color:"primary",onClick:e.guardarEdicionPlan},{default:l(()=>[n("Desar")]),_:1},8,["onClick"]),i(p,{color:"error",onClick:e.cancelarEdicionPlan},{default:l(()=>[n("Cancelar")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),i(w,{modelValue:e.mostrarModalCrearPlan,"onUpdate:modelValue":o[35]||(o[35]=t=>e.mostrarModalCrearPlan=t),"max-width":"820","max-height":"700"},{default:l(()=>[i(h,{width:"auto",height:"auto"},{default:l(()=>[i(y,{height:"60",style:{"background-color":"#224870",color:"white"}},{default:l(()=>[Pa]),_:1}),i(g,null,{default:l(()=>[a("form",null,[a("div",Va,[a("div",ka,[Ma,d(a("input",{"onUpdate:modelValue":o[31]||(o[31]=t=>e.nuevoPlan.nombre=t),required:"",class:"bordered-input",style:{height:"auto",width:"300px"},maxlength:"30"},null,512),[[u,e.nuevoPlan.nombre]])]),a("div",Sa,[Ba,d(a("input",{"onUpdate:modelValue":o[32]||(o[32]=t=>e.nuevoPlan.precio=t),required:"",class:"bordered-input",style:{height:"auto",width:"270px"},type:"number"},null,512),[[u,e.nuevoPlan.precio]])])]),a("div",Da,[Ua,i(B,{modelValue:e.nuevoPlan.descripcion,"onUpdate:modelValue":o[33]||(o[33]=t=>e.nuevoPlan.descripcion=t),required:"",class:"bordered-input",style:{height:"auto",width:"100%"},maxlength:"245"},null,8,["modelValue"])]),a("div",Aa,[qa,d(a("select",{"onUpdate:modelValue":o[34]||(o[34]=t=>e.nuevoPlan.duracion_dias=t),required:"",class:"bordered-input",style:{height:"auto",width:"100%"}},Wa,512),[[k,e.nuevoPlan.duracion_dias]])])])]),_:1}),i(_,null,{default:l(()=>[i(p,{color:"primary",onClick:e.crearYGuardarPlan},{default:l(()=>[n("Desar")]),_:1},8,["onClick"]),i(p,{color:"error",onClick:e.limpiarFormularioPlan},{default:l(()=>[n("Cancelar")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),i(w,{modelValue:e.mostrarModalDatosPlan,"onUpdate:modelValue":o[37]||(o[37]=t=>e.mostrarModalDatosPlan=t),"max-width":"820","max-height":"700"},{default:l(()=>[i(h,{width:"auto",height:"auto"},{default:l(()=>[i(y,{height:"60",style:{"background-color":"#224870",color:"white"}},{default:l(()=>[Fa]),_:1}),i(g,null,{default:l(()=>[i(j,null,{default:l(()=>[e.planSeleccionada?(c(),M(D,{key:0},{default:l(()=>[i(D,null,{default:l(()=>[i(W,null,{default:l(()=>[n(m(e.planSeleccionada.nombre),1)]),_:1}),i(E,null,{default:l(()=>[Ta,n(m(e.planSeleccionada.precio),1)]),_:1}),i(E,null,{default:l(()=>[Na,n(m(e.planSeleccionada.descripcion),1)]),_:1}),i(E,null,{default:l(()=>[$a,n(m(e.planSeleccionada.duracion_dias),1)]),_:1})]),_:1})]),_:1})):x("",!0)]),_:1})]),_:1}),i(_,null,{default:l(()=>[i(p,{color:"primary",onClick:o[36]||(o[36]=t=>e.mostrarModalDatosPlan=!1)},{default:l(()=>[n("Tancar")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1})],64))}}),at=X(Ia,[["__scopeId","data-v-384bdfea"]]);export{at as default};
